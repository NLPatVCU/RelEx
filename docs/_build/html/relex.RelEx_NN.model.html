
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>relex.RelEx_NN.model package &#8212; RelEx 1.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="relex.RelEx_NN.nn package" href="relex.RelEx_NN.nn.html" />
    <link rel="prev" title="relex.RelEx_NN.embeddings package" href="relex.RelEx_NN.embeddings.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="relex.RelEx_NN.nn.html" title="relex.RelEx_NN.nn package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="relex.RelEx_NN.embeddings.html" title="relex.RelEx_NN.embeddings package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">RelEx 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="relex.html" >relex package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="relex.RelEx_NN.html" accesskey="U">relex.RelEx_NN package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="relex-relex-nn-model-package">
<h1>relex.RelEx_NN.model package<a class="headerlink" href="#relex-relex-nn-model-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="relex-relex-nn-model-data-divider-module">
<h2>relex.RelEx_NN.model.data_divider module<a class="headerlink" href="#relex-relex-nn-model-data-divider-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-relex.RelEx_NN.model.evaluate">
<span id="relex-relex-nn-model-evaluate-module"></span><h2>relex.RelEx_NN.model.evaluate module<a class="headerlink" href="#module-relex.RelEx_NN.model.evaluate" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="relex.RelEx_NN.model.evaluate.cv_evaluation">
<code class="descclassname">relex.RelEx_NN.model.evaluate.</code><code class="descname">cv_evaluation</code><span class="sig-paren">(</span><em>labels</em>, <em>evaluation_statistics</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.evaluate.cv_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>considers the metrics of each fold and takes the average.
:param labels: list of the classes
:param evaluation_statistics: statistics</p>
</dd></dl>

<dl class="function">
<dt id="relex.RelEx_NN.model.evaluate.cv_evaluation_fold">
<code class="descclassname">relex.RelEx_NN.model.evaluate.</code><code class="descname">cv_evaluation_fold</code><span class="sig-paren">(</span><em>y_pred</em>, <em>y_true</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.evaluate.cv_evaluation_fold" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metrics for each fold
:param y_pred: predicted labels
:param y_true: true labels
:param labels: list of the classes
:return:</p>
</dd></dl>

<dl class="function">
<dt id="relex.RelEx_NN.model.evaluate.evaluate_Model">
<code class="descclassname">relex.RelEx_NN.model.evaluate.</code><code class="descname">evaluate_Model</code><span class="sig-paren">(</span><em>y_pred</em>, <em>y_true</em>, <em>encoder_classes</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.evaluate.evaluate_Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a classification report and the f1 scores
:param y_pred:
:param y_true:
:param encoder_classes:</p>
</dd></dl>

<dl class="function">
<dt id="relex.RelEx_NN.model.evaluate.predict">
<code class="descclassname">relex.RelEx_NN.model.evaluate.</code><code class="descname">predict</code><span class="sig-paren">(</span><em>model</em>, <em>x_test</em>, <em>y_test</em>, <em>encoder_classes</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.evaluate.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the predictions as input and returns the indices of the maximum values along an axis using numpy argmax function as true labels.
Then evaluates it against the trained model
:param model: trained model
:param x_test: test data
:param y_test: test true labels
:param encoder_classes:
:return: predicted and true labels</p>
</dd></dl>

</div>
<div class="section" id="module-relex.RelEx_NN.model.model">
<span id="relex-relex-nn-model-model-module"></span><h2>relex.RelEx_NN.model.model module<a class="headerlink" href="#module-relex.RelEx_NN.model.model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="relex.RelEx_NN.model.model.Model">
<em class="property">class </em><code class="descclassname">relex.RelEx_NN.model.model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>sentences</em>, <em>labels</em>, <em>preceding_segs</em>, <em>concept1_segs</em>, <em>middle_segs</em>, <em>concept2_segs</em>, <em>succeeding_segs</em>, <em>rel_labels</em>, <em>no_labels</em>, <em>segment=True</em>, <em>test=False</em>, <em>multilabel=True</em>, <em>one_hot=False</em>, <em>common_words=10000</em>, <em>maxlen=100</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="relex.RelEx_NN.model.model.Model.binarize_labels">
<code class="descname">binarize_labels</code><span class="sig-paren">(</span><em>label_list</em>, <em>binarize=False</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.Model.binarize_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the input list and binarizes or vectorizes the labels
If the binarize flag is set to true, it binarizes the input list in a one-vs-all fashion and outputs
the one-hot encoding of the input list
:param binarize: binarize flag
:param label_list: list of text labels
:return list:list of binarized / vectorized labels</p>
</dd></dl>

<dl class="method">
<dt id="relex.RelEx_NN.model.model.Model.one_hot_encoding">
<code class="descname">one_hot_encoding</code><span class="sig-paren">(</span><em>train_list</em>, <em>test_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.Model.one_hot_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list as the input and tokenizes the samples via the <cite>split</cite> method.
Assigns a unique index to each unique word and returns a dictionary of unique tokens.
Encodes the words into one-hot vectors and stores the results in a matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_list</strong> – test data</li>
<li><strong>train_list</strong> – train data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return matrix:</th><td class="field-body"><p class="first last">matrix with one-hot encoding</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="relex.RelEx_NN.model.model.Model.vectorize_segments">
<code class="descname">vectorize_segments</code><span class="sig-paren">(</span><em>sentences</em>, <em>preceding</em>, <em>middle</em>, <em>succeeding</em>, <em>concept1</em>, <em>concept2</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.Model.vectorize_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in the sentences and segments and creates Keras tokenizer to return the vectorized segments
:param sentences: sentences
:param preceding: preceding segment
:param middle: middle
:param succeeding: succeeding
:param concept1: concept1
:param concept2: concept2
:return: vectorized segments</p>
</dd></dl>

<dl class="method">
<dt id="relex.RelEx_NN.model.model.Model.vectorize_words">
<code class="descname">vectorize_words</code><span class="sig-paren">(</span><em>train_list</em>, <em>test_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.Model.vectorize_words" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes training data as input (test data is optional), creates a Keras tokenizer configured to only take into account the top given number
of the most common words in the training data and builds the word index. If test data is passed it will be tokenized using the same
tokenizer and output the vector. If the one-hot flag is set to true, one-hot vector is returned if not vectorized sequence is returned</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>train_list</strong> – train data</li>
<li><strong>test_list</strong> – test data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">one-hot encoding or the vectorized sequence of the input list, unique word index</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="relex.RelEx_NN.model.model.create_validation_data">
<code class="descclassname">relex.RelEx_NN.model.model.</code><code class="descname">create_validation_data</code><span class="sig-paren">(</span><em>train_data</em>, <em>train_label</em>, <em>num_data=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#relex.RelEx_NN.model.model.create_validation_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the input data into training and validation. By default it takes first 1000 as the validation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_data</strong> – number of files split as validation data</li>
<li><strong>train_label</strong> – list of the labels of the training data</li>
<li><strong>train_data</strong> – list of the training data</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return:train samples, validation samples</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">relex.RelEx_NN.model package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#relex-relex-nn-model-data-divider-module">relex.RelEx_NN.model.data_divider module</a></li>
<li><a class="reference internal" href="#module-relex.RelEx_NN.model.evaluate">relex.RelEx_NN.model.evaluate module</a></li>
<li><a class="reference internal" href="#module-relex.RelEx_NN.model.model">relex.RelEx_NN.model.model module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="relex.RelEx_NN.embeddings.html"
                        title="previous chapter">relex.RelEx_NN.embeddings package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="relex.RelEx_NN.nn.html"
                        title="next chapter">relex.RelEx_NN.nn package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/relex.RelEx_NN.model.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="relex.RelEx_NN.nn.html" title="relex.RelEx_NN.nn package"
             >next</a> |</li>
        <li class="right" >
          <a href="relex.RelEx_NN.embeddings.html" title="relex.RelEx_NN.embeddings package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">RelEx 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="relex.html" >relex package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="relex.RelEx_NN.html" >relex.RelEx_NN package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, add later.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>